:root{
  --bg:#f6f7fb;
  --panel:#ffffff;
  --muted:#8b95a7;
  --accent:#6b46ff;
  --green:#10b981;
  --red:#ef4444;
  --shadow: 0 8px 30px rgba(11,18,35,0.06);
  --radius:12px;
  --text:#0b1220;
  --card-pad:20px;
  --sidebar-bg:#ffffff;
  --sidebar-border:#eef2f7;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;color:var(--text);background:var(--bg)}
.app{display:flex;min-height:100vh}

/* SIDEBAR */
.sidebar{width:260px;background:var(--sidebar-bg);border-right:1px solid var(--sidebar-border);display:flex;flex-direction:column;justify-content:space-between;padding:20px}
.brand{display:flex;align-items:center;gap:12px;margin-bottom:16px}
.logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,#7c3aed,#06b6d4);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
.brand-text strong{font-size:16px}
.nav{display:flex;flex-direction:column;gap:6px;margin-top:6px}
.nav-item{display:flex;align-items:center;gap:12px;padding:10px 12px;border-radius:8px;color:var(--muted);cursor:pointer}
.nav-item span{height:18px;width:18px}
.nav-item.active{background:linear-gradient(180deg,rgba(99,102,241,0.08),rgba(99,102,241,0.04));color:#4b5563}

/* sidebar bottom */
.sidebar-bottom{display:flex;gap:10px;align-items:center;padding-top:10px;border-top:1px solid var(--sidebar-border)}
.avatar{width:40px;height:40px;border-radius:50%}
.user-info{font-size:13px}
.user-name{font-weight:600}
.user-email{color:var(--muted);font-size:12px}

/* MAIN */
.main{flex:1;padding:28px 32px;overflow:auto}
.header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:18px}
.header h1{margin:0;font-size:20px}
.subtitle{margin:4px 0 0;color:var(--muted)}
.header-actions .btn{padding:8px 12px;border-radius:8px;border:1px solid #e6eef6;background:transparent}

/* GRID TOP */
.grid-top{display:grid;grid-template-columns:360px 1fr 1fr 420px;gap:18px;margin-bottom:18px}
.card{background:var(--panel);padding:var(--card-pad);border-radius:var(--radius);box-shadow:var(--shadow)}
.card.small{display:flex;flex-direction:column}
.card.balance{background:linear-gradient(135deg,#6b46ff,#06b6d4);color:#fff;padding:24px}
.card .card-title{font-size:13px;color:var(--muted)}
.card .card-value{font-size:28px;font-weight:700;margin-top:8px}
.card .card-note{font-size:15px;color:var(--muted)}
.card .card-note.green{color:var(--green)} 
.card .card-note.red{color:var(--red)}

.chart-card{display:flex;align-items:center;justify-content:center;padding:18px}

/* GRID BOTTOM */
.grid-bottom{display:grid;grid-template-columns:1fr 420px;gap:18px;margin-bottom:18px}
.transactions-card .card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.tx-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:10px}
.tx-item{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:10px;background:#fbfcff;border:1px solid #f1f5f9}
.tx-left{display:flex;gap:12px;align-items:center}
.tx-icon{width:44px;height:44px;border-radius:8px;display:flex;align-items:center;justify-content:center}
.tx-content small{display:block;color:var(--muted);font-size:13px}
.tx-amount{font-weight:700;color:#ef4444}

/* cashback card */
.cashback-card .cb-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.badge{padding:6px 8px;border-radius:999px;background:#f1f9f4;color:var(--green);font-weight:600;font-size:12px}
.cb-amount{font-size:28px;color:var(--green);font-weight:700;margin-top:6px;margin-bottom:6px}
.cb-sub{color:var(--muted);margin-bottom:12px}
.cb-break{display:flex;justify-content:space-between;color:var(--muted);margin-bottom:14px}
.btn{cursor:pointer;border:0;padding:10px 14px;border-radius:8px}
.btn.primary{background:var(--green);color:#052018;font-weight:700;width:100%}
.btn.ghost{background:transparent;border:1px solid #e6eef6;color:var(--muted)}

/* insights */
.insights .insight-items{display:flex;gap:12px;margin-top:12px}
.insight-item{flex:1;padding:14px;border-radius:10px;background:#fbfcff;border:1px solid #eef4ff}
.insight-item.blue{background:linear-gradient(180deg,rgba(99,102,241,0.04),rgba(99,102,241,0.02))}
.insight-item.green{background:linear-gradient(180deg,rgba(16,185,129,0.04),rgba(16,185,129,0.02))}
.insight-item.purple{background:linear-gradient(180deg,rgba(139,92,246,0.04),rgba(139,92,246,0.02))}

/* Export toolbar destacado */
.export-toolbar{display:flex;gap:10px;align-items:center}
.export-btn{
  display:inline-flex;align-items:center;
  gap:8px;
  padding:10px 14px;
  border-radius:10px;
  border:0;
  cursor:pointer;
  font-weight:600;
  box-shadow:0 6px 18px rgba(11,18,35,0.06);
  transition:transform .12s ease,box-shadow .12s ease;
}
.export-btn span[role], .export-btn svg{height:18px;width:18px}
.export-btn .label{font-size:14px}
.export-btn:hover{transform:translateY(-3px)}
.export-btn.csv{background:linear-gradient(180deg,#e6f4ff,#dff4ff);color:#0b3a66;border:1px solid rgba(6,90,170,0.06)}
.export-btn.pdf{background:linear-gradient(180deg,#ffecec,#ffe0e0);color:#7a1b1b;border:1px solid rgba(200,20,20,0.06)}
.export-btn.print{background:linear-gradient(180deg,#f3f6ff,#eef4ff);color:#07316a;border:1px solid rgba(7,49,106,0.06)}

/* botão flutuante secundário (aparece em telas pequenas) */
.fab-export{
  position:fixed;right:22px;bottom:22px;z-index:1200;border-radius:50%;width:56px;height:56px;display:flex;align-items:center;justify-content:center;
  background:linear-gradient(135deg,#6b46ff,#06b6d4);color:#fff;box-shadow:0 12px 30px rgba(11,18,35,0.18);cursor:pointer;border:0;
}
.fab-export .count{position:absolute;top:-6px;right:-6px;background:#ff4757;color:#fff;border-radius:50%;padding:2px 6px;font-size:11px}

/* esconder controles no print */
.no-print{display:flex;gap:8px}
@media print{
  .no-print{display:none !important}
}

/* responsive: toolbar vira coluna em telas pequenas */
@media (max-width:700px){
  .export-toolbar{flex-direction:column;align-items:flex-end}
  .export-btn{padding:10px 12px;font-size:13px}
}

/* --- Início da seção responsiva (substituir a seção antiga) --- */

/* garantir que o hamburger e overlay não apareçam no desktop por padrão */
.hamburger{ display:none; }
#mobileOverlay, .mobile-overlay{ display:none; visibility:hidden; }

/* ajuste geral para telas menores */
@media (max-width:1100px){
  /* grid responsivo */
  .grid-top{grid-template-columns:1fr 1fr;grid-auto-rows:minmax(120px,auto)}
  .grid-bottom{grid-template-columns:1fr}
  .main{padding:18px}

  /* hamburger visível em mobile */
  .hamburger{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    width:44px;
    height:44px;
    border-radius:8px;
    border:0;
    background:transparent;
    cursor:pointer;
    color:var(--muted);
    margin-right:8px;
  }

  /* sidebar vira drawer off-canvas */
  .sidebar{
    position:fixed;
    left:-320px;
    top:0;
    height:100vh;
    width:260px;
    z-index:1201;
    transition:left .28s ease,transform .28s ease;
    box-shadow:0 20px 40px rgba(6,10,20,0.25);
    background:var(--sidebar-bg);
    will-change:left;
  }
  .sidebar.open{ left:0; }

  /* overlay para sombrear conteúdo quando drawer aberto */
  .mobile-overlay{
    position:fixed;
    inset:0;
    background:rgba(6,10,20,0.36);
    z-index:1200;
    display:none;
  }
  .mobile-overlay.show, #mobileOverlay.show{ display:block; visibility:visible; }

  /* evitar scroll do body quando drawer aberto */
  body.drawer-open{ overflow:hidden; }

  /* ajustar toolbar e FAB para mobile */
  .export-toolbar{ gap:8px; }
  .fab-export{ right:18px; bottom:18px; }
}

/* pequenos ajustes para telas muito pequenas */
@media (max-width:700px){
  .export-toolbar{flex-direction:column;align-items:flex-end}
  .export-btn{padding:10px 12px;font-size:13px}
  .det-item{grid-template-columns:1fr;gap:6px}
  .det-right{text-align:left}
  .add-form{flex-direction:column;align-items:stretch}
  .add-form input,.add-form select{width:100%}
}

/* --- Fim da seção responsiva --- */

/* adicionado: estilos para extrato detalhado */
.det-list{display:flex;flex-direction:column;gap:8px;max-height:560px;overflow:auto;padding-right:6px}
.det-item{display:grid;grid-template-columns:110px 1fr 140px;gap:12px;align-items:center;padding:12px;border-radius:10px;background:#fbfcff;border:1px solid #f1f5f9}
.det-left{display:flex;flex-direction:column;align-items:flex-start}
.det-date{font-weight:700}
.det-time{font-size:13px;color:var(--muted)}
.det-mid{display:flex;flex-direction:column}
.det-category{font-weight:600}
.det-desc{font-size:13px;color:var(--muted)}
.det-right{text-align:right}
.det-amount{font-weight:700}
.det-amount.green{color:var(--green)}
.det-amount.red{color:var(--red)}
@media (max-width:700px){
  .det-item{grid-template-columns:1fr;gap:6px}
  .det-right{text-align:left}
}

/* adicionado: estilos para formulário de nova transação */
.add-form input,.add-form select{background:#fff}
.add-form .btn{padding:8px 12px}
@media (max-width:700px){
  .add-form{flex-direction:column;align-items:stretch}
  .add-form input,.add-form select{width:100%}
}

/* estilo profissional para extrato (tela + impressão) */
.print-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  margin-bottom:16px;
}
.print-header .brand-block{display:flex;gap:12px;align-items:center}
.print-header .bank-name{font-weight:800;font-size:18px}
.print-header .bank-meta{color:var(--muted);font-size:13px}
.account-info{display:flex;gap:18px;align-items:center;color:var(--muted);font-size:13px}

/* tabela do extrato */
.det-table{width:100%;border-collapse:collapse;font-size:14px}
.det-table thead th{background:#f7fafc;color:var(--muted);text-align:left;padding:12px;border-bottom:1px solid #eef2f7;font-weight:600}
.det-table tbody td{padding:12px;border-bottom:1px solid #f1f5f9;vertical-align:middle}
.det-table tbody tr:hover{background:#fbfcff}
.det-table .col-date{width:130px;color:var(--muted)}
.det-table .col-desc{}
.det-table .col-cat{width:160px;color:var(--muted)}
.det-table .col-amount{width:140px;text-align:right;font-weight:700;font-family:Roboto,Arial,Helvetica,sans-serif}
.det-table .amount.inflow{color:var(--green)}
.det-table .amount.outflow{color:var(--red)}

/* footer totals */
.det-footer{display:flex;justify-content:flex-end;gap:24px;margin-top:12px;font-weight:600;color:var(--muted)}

/* controles que não devem aparecer no print */
.no-print{display:flex;gap:8px}
@media print{
  body{background:#fff;color:#000}
  .no-print{display:none !important}
  .card{box-shadow:none;border:0;padding:12px}
  .sidebar, .header .header-actions{display:none}
  /* garantir que o extrato quebre corretamente */
  .det-table tbody tr{page-break-inside:avoid}
  @page{size:A4; margin:20mm}
  .print-header{margin-top:0}
  .det-table thead th{background:#f7f7f7}
}