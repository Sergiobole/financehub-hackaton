<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0b5fff">
    <title>Pix - NK Bank</title>
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body class="app">
    <div class="app-container">
        <header class="system-header">
            <div class="system-header__left">
                <a href="index.html" class="system-back" aria-label="Voltar">&#8592;</a>
                <img src="assets/images/logo.svg" alt="Logo NK Bank" class="system-logo" onerror="this.style.display='none'">
            </div>

            <h1 class="system-title">Área Pix</h1>

            <div class="system-header__right">
                <button class="icon-btn" aria-label="Notificações">&#128276;</button>
            </div>
        </header>

        <nav class="system-tabs" role="tablist" aria-label="Ações Pix">
            <button role="tab" aria-selected="true" class="system-tab system-tab--active" id="tab-pagar" data-target="pixPagarSection">Pagar</button>
            <button role="tab" aria-selected="false" class="system-tab" id="tab-receber" data-target="pixReceberSection">Receber</button>
            <button role="tab" aria-selected="false" class="system-tab" id="tab-copia" data-target="pixCopiaEColaSection">Copia e Cola</button>
            <button role="tab" aria-selected="false" class="system-tab" id="tab-chaves" data-target="pixMinhasChavesSection">Minhas Chaves</button>
        </nav>

        <main class="system-main" role="main">
            <section id="pixPagarSection" class="system-card" role="tabpanel" aria-labelledby="tab-pagar">
                <h2 class="card-title">Pagar com Chave Pix</h2>
                <form id="pix-form" class="form" novalidate>
                    <div class="form-row">
                        <label for="pix-key-type">Tipo de Chave</label>
                        <select id="pix-key-type" name="pix-key-type" class="input-select">
                            <option value="cpf">CPF</option>
                            <option value="email">E-mail</option>
                            <option value="celular">Celular</option>
                            <option value="aleatoria">Chave Aleatória</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <label for="pix-key">Chave Pix</label>
                        <input type="text" id="pix-key" name="pix-key" class="input" placeholder="Digite a chave pix" required>
                    </div>

                    <div class="form-row">
                        <label for="pix-amount">Valor</label>
                        <input type="number" id="pix-amount" name="pix-amount" class="input" placeholder="R$ 0,00" required min="0.01" step="0.01">
                    </div>

                    <div class="form-row">
                        <label for="pix-description">Descrição (Opcional)</label>
                        <input type="text" id="pix-description" name="pix-description" class="input" placeholder="Ex: Presente de aniversário">
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn--primary">Transferir</button>
                    </div>
                </form>
            </section>

            <section id="pixReceberSection" class="system-card system-hidden" role="tabpanel" aria-labelledby="tab-receber" aria-hidden="true">
                <h2 class="card-title">Receber com QR Code</h2>
                <div class="form-row">
                    <label for="receive-amount">Valor a Receber</label>
                    <input type="number" id="receive-amount" name="receive-amount" class="input" placeholder="R$ 0,00" min="0.01" step="0.01">
                </div>

                <div class="form-actions">
                    <button id="generate-qr-btn" class="btn btn--primary">Gerar QR Code</button>
                </div>

                <div id="qr-code-container" class="qr-card system-hidden" aria-hidden="true">
                    <img id="qr-code-img" src="" alt="QR Code" class="qr-image" />
                    <p class="muted">Escaneie o QR code para pagar</p>

                    <div class="form-row">
                        <label for="pix-copy-paste">Pix Copia e Cola</label>
                        <div class="input-with-button">
                            <input type="text" id="pix-copy-paste" class="input" readonly>
                            <button id="copy-btn" class="btn btn--secondary">Copiar</button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="pixCopiaEColaSection" class="system-card system-hidden" role="tabpanel" aria-labelledby="tab-copia" aria-hidden="true">
                <h2 class="card-title">Pagar com Pix Copia e Cola</h2>
                <form id="pix-copia-e-cola-form" class="form" novalidate>
                    <div class="form-row">
                        <label for="pix-copia-e-cola-input">Cole o código Pix Copia e Cola</label>
                        <textarea id="pix-copia-e-cola-input" name="pix-copia-e-cola-input" class="input input--textarea" rows="4" placeholder="Cole o código aqui..." required></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn--primary">Pagar</button>
                    </div>
                </form>
            </section>

            <section id="pixMinhasChavesSection" class="system-card system-hidden" role="tabpanel" aria-labelledby="tab-chaves" aria-hidden="true">
                <h2 class="card-title">Minhas Chaves Pix</h2>
                <div id="pix-keys-list" class="keys-list" aria-live="polite">
                    <!-- chaves inseridas dinamicamente -->
                </div>
                <div class="form-actions">
                    <button id="add-key-btn" class="btn btn--primary">Cadastrar Nova Chave</button>
                </div>
            </section>
        </main>
    </div>

    <script src="assets/js/data.js"></script>
    <script src="assets/js/ui.js"></script>
    <script src="assets/js/pix.js"></script>
</body>
</html>
